# This file is used by Opal::Server to basically load all spec files that
# can be found in the spec/ directory.

require 'opal'
require 'opal-rspec'
require 'opal/spec_opal_junit_formatter'

RSpec.configure do |config|
  config.default_formatter = SpecOpalJunitFormatter
end

<% Dir.glob('spec/**/*_spec.{rb,opal}').each do |s| %>
require <%= s.sub(/^spec\//, '').sub(/\.(rb|opal)$/, '').inspect %>
<% end %>

Opal::RSpec::Runner.autorun
